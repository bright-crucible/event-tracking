[![Build Status](https://travis-ci.org/bright-crucible/event-tracking.svg?branch=master)](https://travis-ci.org/bright-crucible/event-tracking)
# event-tracking

This small library helps track the number of events that happened during a specified window (up to five minutes).

It is loaded using the `require()` function:

```js
var eventTracker = require("event-tracking")
```

An event tracker can the be created to track some event:

```js
const name = "Event-1";
const eventTracker = new EventTracker(name);

eventTracker.signalEvent(); // 1
eventTracker.signalEvent(); // 2
eventTracker.signalEvent(); // 3

console.log(`Recent events for ${eventTracker.name}: ${eventTracker.count()}`);
// Should print: Recent events for Event-1: 3
```

Prolonged use should be fine memory-wise as each time an event is signaled or when a count is requested, events older than the maximum time window are discarded.

# Docs

Docs automatically generated by [JSDoc](https://jsdoc.app/)

To view the documentation, open `docs/index.html` in a web browser.

# Testing

After cloning, install Jest dependencies.
```
npm install
```

Next use `npm` to run the tests.
```
npm run test
```
Example output:
```
> event-tracking@1.0.0 test /home/don/event-tracking
> jest

 PASS  __tests__/renameEventTracker.spec.js
 PASS  __tests__/createEventTracker.spec.js
 PASS  __tests__/signalEventTracker.spec.js (5.557s)

Test Suites: 3 passed, 3 total
Tests:       10 passed, 10 total
Snapshots:   0 total
Time:        6.071s
Ran all test suites.
```

# Tools

* [Atom Editor](https://atom.io/)
* [atom-easy-jsdoc](https://atom.io/packages/atom-easy-jsdoc)
* [linter-eslint](https://atom.io/packages/linter-eslint)
* [Jest](https://jestjs.io/)
* [Travis CI](https://travis-ci.org/)
* [JSDoc](https://jsdoc.app/)
